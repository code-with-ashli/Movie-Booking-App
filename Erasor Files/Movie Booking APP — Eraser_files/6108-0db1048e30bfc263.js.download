(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6108],{69804:function(e,t,n){"use strict";var r,o=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M5 7.8h4M1.4 1.4h11.2v3.2H1.4V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6H2.2z",stroke:"currentColor",fill:"none"})))}},83140:function(e,t,n){"use strict";var r,o,i=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:2.5,fill:"none",stroke:"currentColor",strokeWidth:1.2})),o||(o=i.createElement("path",{d:"M7 5h4v4m-6 2l6-6",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},73009:function(e,t,n){"use strict";var r,o=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},56823:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(94776),o=n.n(r),i=n(2784),a=n(17003),l=n(9605),s=n(14898),c=((0,n(73254).c)("workspace-delete"),n(95879));function u(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}var d=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.post("workspace/delete",t,{responseType:"text"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),f=d,p=n(94764);function v(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}var h=function(){var e=(0,l.Z)(),t=(0,s.II)(),n=(0,i.useCallback)(function(){var n,r=(n=o().mark((function n(r){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&r){n.next=3;break}return console.error("Missing userId or workspaceId"),n.abrupt("return");case 3:return i=(0,p.x0)(),e.loading("Deleting file ...",{id:i}),n.prev=5,n.next=8,f({workspaceId:r});case 8:e.success("File deleted successfully",{id:i}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(5),console.error(n.t0),e.error("File deletion failed",{id:i});case 15:case"end":return n.stop()}}),n,null,[[5,11]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){v(i,r,o,a,l,"next",e)}function l(e){v(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[t]),r=(0,a.Z)(n);return{delete:r.execute,isLoading:r.loading}}},86667:function(e,t,n){"use strict";n.d(t,{z:function(){return W}});var r=n(52322),o=n(98906),i=n(68732),a=n(35795),l=n(2784),s=n(83227),c=n.n(s),u=n(11867),d=n(56828),f=n(49451),p=n.n(f),v=n(65944),h=function(e){var t=e.onSelect,n=e.organizations,o=e.repositoriesMap,i=e.searchQuery,a=e.selection;if(!n||!o)return null;var l=a.organizationId,s=a.repositoryId,c=n.flatMap((function(e){var n=o.get(e.id);return null===n||void 0===n?void 0:n.filter((function(t){return function(e){var t=e.organization,n=e.searchQuery,r=e.repository;if(!n)return!0;var o=r.name.toLocaleLowerCase(),i=t.name.toLocaleLowerCase();return o.includes(n.toLocaleLowerCase())||i.includes(n.toLocaleLowerCase())}({organization:e,repository:t,searchQuery:i})})).map((function(n){var o="".concat(e.name,"/").concat(n.name),i=l===e.id&&s===n.id;return(0,r.jsx)(u.G,{name:o,icon:(0,r.jsx)(v.Z,{}),selected:i,onClick:function(){return t({folderId:void 0,repositoryId:n.id,organizationId:e.id})}},o)}))}));return c.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:p().targetsListSubtitle,children:"Github repositories"}),c]}):null},m=n(96299),g=n(20810),y=n(39739),b=n(35120),x=n(12335),w=n(50046),j=n(66924),_=n(21043);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){var t=e.currentFolderId,n=e.onSelect,o=e.selection,i=e.teamId,a=e.searchQuery,s=function(e,t){var n=(0,l.useState)(void 0),r=n[0],o=n[1],i=(0,g.m)((function(e){return e.pipe((0,x.w)((function(e){var t=C(e,2),n=t[0],r=t[1];return n?(0,w.Z)(n,r):(0,b.of)(void 0)})))}),[e,t]);(0,y.m)(i,o,j.Tb);var a=(0,l.useMemo)((function(){return r?(0,_.Hz)(r):{}}),[r]),s=(0,l.useCallback)((function(){return(0,_.am)(a)}),[a]);return{folders:r,folderTree:a,getAllFolderPaths:s}}(i).getAllFolderPaths,c=s().map((function(e){var i=e[e.length-1],l=e.reduce((function(e,t){return"".concat(e,"/").concat(t.name||m.Yp)}),"");if(a&&!l.toLowerCase().includes(a.toLowerCase()))return null;return(0,r.jsx)(u.G,{name:l,onClick:function(){return n({folderId:i.id,repositoryId:void 0,organizationId:void 0})},disabled:i.id===t,selected:i.id===(null===o||void 0===o?void 0:o.folderId)},i.id)})).filter(Boolean);return(0,r.jsx)(r.Fragment,{children:c})},S=function(e){var t=e.teamId,n=e.onSelect,o=e.selection,i=e.searchQuery,a=e.changingTeam,l=e.currentFolderId,s=(0,d.E$)(),f=s.organizations,v=s.repositoriesMap,m=!i||!l&&!a;return(0,r.jsxs)("div",{className:c().folderList,children:[(0,r.jsx)(h,{onSelect:n,selection:o,searchQuery:i,organizations:f,repositoriesMap:v}),(0,r.jsx)("p",{className:p().targetsListSubtitle,children:"Folders"}),m&&(0,r.jsx)(u.G,{name:"Unsorted",selected:null===(null===o||void 0===o?void 0:o.folderId),onClick:function(){return n({folderId:null})},disabled:!l&&!a}),(0,r.jsx)(M,{teamId:t,onSelect:n,selection:o,searchQuery:i,currentFolderId:l})]})},O=n(54631),F=n(49892),k=n(3559),N=n(91568),T=n(53822),L=n(72342),Z=n(59503),P=n.n(Z),E=n(70367),z=n.n(E),A=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h3",{className:z().subtitle,style:n,children:t})},G=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h6",{className:z().textNote,style:n,children:t})},Q=n(19681),B=n(14113),U=n(83445),H=n(28058);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var D=function(e){var t=e.file,n=e.isOpen,o=e.onClose,a=e.onConfirm,s=e.currentTeamId,c=e.selectedTeamId,u=e.selectionState,d=e.setSelectedTeamId,f=e.setSelectionState,v=V(e,["file","isOpen","onClose","onConfirm","currentTeamId","selectedTeamId","selectionState","setSelectedTeamId","setSelectionState"]),h=(0,i.lh)()||[],m=(0,l.useState)(""),g=m[0],y=m[1],b=(0,U.Z)(),x=b.isOpen,w=b.onToggle,j=Object.values(u).every((function(e){return void 0===e}));(0,l.useEffect)((function(){return f({folderId:void 0,repositoryId:void 0,organizationId:void 0})}),[f,c,s]);var _=(0,l.useCallback)((function(e){return y(e)}),[]),I=(0,r.jsxs)("div",{className:p().buttonGroup,children:[(0,r.jsx)(k.ZP,{variant:k.ZP.Variants.REVERSED,onClick:o,className:p().button,children:"Cancel"}),(0,r.jsx)(k.ZP,{onClick:a,className:p().button,disabled:j,children:"Move File"})]});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(L.Z,R({isOpen:n,title:"Move File",onClose:o},v,{className:(0,H.Z)(p().container,x&&p().expanded),children:(0,r.jsxs)("div",{className:p().body,children:[(0,r.jsx)("div",{className:p().left,children:(0,r.jsxs)("div",{className:(0,H.Z)(p().leftContent,x&&p().leftOpen),children:[(0,r.jsxs)(G,{style:{marginLeft:2},children:["Move ",(0,r.jsx)("strong",{children:t.title||F.SF})," to a new folder or\xa0",(0,r.jsx)("button",{className:p().teamSwitcherButton,onClick:w,children:"new team"})]}),(0,r.jsx)(B.Z,{autoFocus:!0,value:g,className:p().searchInput,placeholder:"Search folder name",onChange:function(e){return _(e.currentTarget.value)}}),(0,r.jsx)(S,{teamId:c,searchQuery:g,selection:u,onSelect:f,changingTeam:c!==s,currentFolderId:t.teamId===c?t.folderId:void 0}),!x&&I]})}),x&&(0,r.jsxs)("div",{className:p().right,children:[(0,r.jsx)("div",{className:P().bg}),(0,r.jsxs)("div",{className:p().teamContainer,children:[(0,r.jsxs)("div",{className:p().teamContent,children:[(0,r.jsxs)(A,{children:[(0,r.jsx)(T.J,{icon:O.Z}),"Transfer Team"]}),(0,r.jsx)(N.Lt,{toggleClassNames:{root:p().toggle,button:p().popupToggle},title:(0,r.jsx)(Q.Ku,{teamId:c,showIsCurrent:s===c}),children:(0,r.jsx)(Q.ZP,{teams:h,selectedTeamId:c,onSwitch:d})}),(0,r.jsx)(G,{style:{marginTop:15},children:"Move this file to another team. NOTE: some users may lose access."})]}),I]})]})]})}))})},$=n(12325);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=(0,l.forwardRef)((function(e,t){var n=e.workspace,s=(0,U.Z)(),c=s.onOpen,u=s.onClose,d=s.isOpen,f=(0,U.Z)(),p=f.onOpen,v=f.onClose,h=f.isOpen,m=(0,i.LP)(),g=(0,a.Z)(),y=(0,l.useState)(null!==m&&void 0!==m?m:""),b=y[0],x=y[1],w=q((0,o.R)({}),2),j=w[0],_=w[1],I=j.folderId,C=j.organizationId,M=j.repositoryId;(0,l.useImperativeHandle)(t,(function(){return{openMoveModal:p}}),[p]);return(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)(D,{isOpen:!0,file:n,onClose:v,onConfirm:function(){b&&(void 0!==I&&(g({folderId:I,file:n,eventSource:"modal",teamId:b}),v()),C&&M&&(v(),c()))},currentTeamId:m,selectedTeamId:b,selectionState:j,setSelectedTeamId:x,setSelectionState:_}),C&&M&&d&&(0,r.jsx)($.b,{isOpen:!0,workspace:n,repositoryId:M,organizationId:C,onClose:u})]})}))},49451:function(e){e.exports={container:"MoveFileModal_container__d8Ozk",expanded:"MoveFileModal_expanded__TtIgq",searchInput:"MoveFileModal_searchInput__PLj1_",body:"MoveFileModal_body__pBevr",buttonGroup:"MoveFileModal_buttonGroup__oOTCb",button:"MoveFileModal_button__sazEP",left:"MoveFileModal_left__86cCO",right:"MoveFileModal_right__JiknZ",leftContent:"MoveFileModal_leftContent__mtKJG",leftOpen:"MoveFileModal_leftOpen__S2m9F",teamContainer:"MoveFileModal_teamContainer__GMmFs",popupToggle:"MoveFileModal_popupToggle___ch8e",toggle:"MoveFileModal_toggle__0vplI",teamSwitcherButton:"MoveFileModal_teamSwitcherButton__slAUl",targetsListSubtitle:"MoveFileModal_targetsListSubtitle__Qcg97"}},70367:function(e){e.exports={textField:"NewComponents_textField__Ci_tU",subtitle:"NewComponents_subtitle__u_XcM",textNote:"NewComponents_textNote__JCwiy"}}}]);